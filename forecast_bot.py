import os
from telegram import Bot
from datetime import datetime

TELEGRAM_TOKEN = os.environ.get("TELEGRAM_TOKEN")
TELEGRAM_USER_ID = os.environ.get("TELEGRAM_USER_ID")

def generate_forecast_text():
    today = datetime.utcnow().strftime("%d.%m.%Y")
    return f"""üìÖ –ü—Ä–æ–≥–Ω–æ–∑ –≥—Ä–∞–¥–∞ –ø–æ –°–®–ê –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 3 –¥–Ω—è (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ {today})

–¢–µ—Ö–∞—Å
17 –º–∞—è ‚Äî –î–∞–ª–ª–∞—Å ‚Äî —Ä–∞–∑–º–µ—Ä –≥—Ä–∞–¥–∞: 5 —Å–º ‚Äî –¥–∏–ª–µ—Ä–æ–≤: 85
17 –º–∞—è ‚Äî –ê—Ä–ª–∏–Ω–≥—Ç–æ–Ω ‚Äî —Ä–∞–∑–º–µ—Ä –≥—Ä–∞–¥–∞: 4 —Å–º ‚Äî –¥–∏–ª–µ—Ä–æ–≤: 23

–û–∫–ª–∞—Ö–æ–º–∞
17 –º–∞—è ‚Äî –û–∫–ª–∞—Ö–æ–º–∞-–°–∏—Ç–∏ ‚Äî —Ä–∞–∑–º–µ—Ä –≥—Ä–∞–¥–∞: 6 —Å–º ‚Äî –¥–∏–ª–µ—Ä–æ–≤: 15
17 –º–∞—è ‚Äî –ù–æ—Ä–º–∞–Ω ‚Äî —Ä–∞–∑–º–µ—Ä –≥—Ä–∞–¥–∞: 5 —Å–º ‚Äî –¥–∏–ª–µ—Ä–æ–≤: 6

üìå –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ—à–µ–¥—à–µ–º—É –≥—Ä–∞–¥—É –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–≤–∞ –¥–Ω—è (15‚Äì16 –º–∞—è 2025 –≥–æ–¥–∞)

–¢–µ—Ö–∞—Å
15 –º–∞—è ‚Äî –§–æ—Ä—Ç-–£—ç—Ä—Ç ‚Äî —Ä–∞–∑–º–µ—Ä –≥—Ä–∞–¥–∞: 3 —Å–º ‚Äî –¥–∏–ª–µ—Ä–æ–≤: 52
16 –º–∞—è ‚Äî –£—ç–π–∫–æ ‚Äî —Ä–∞–∑–º–µ—Ä –≥—Ä–∞–¥–∞: 2 —Å–º ‚Äî –¥–∏–ª–µ—Ä–æ–≤: 11
"""

def send_forecast():
    bot = Bot(token=TELEGRAM_TOKEN)
    text = generate_forecast_text()
    bot.send_message(chat_id=TELEGRAM_USER_ID, text=text)

if __name__ == "__main__":
    send_forecast()